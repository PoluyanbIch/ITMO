# Билет 2

## Пути, циклы и маршруты. Лемма о выделении простого пути и цикла.

#### Маршрут

> Последовательность вершин $a_1a_2 ...a_n$ и рёбер $e_1,e_2...,e_{n−1}$ графа G, где $e_i = a_ia_{i+1}$ для всех $i \in [1..n − 1]$, называется маршрутом.

#### Путь

> Путь — это маршрут $a_1a_2...a_n$, не проходящий ни по какому ребру дважды.

#### Определение 1

1) Если P — это путь, а x,y ∈ V(P), мы будем через xPy
   обозначать участок пути P от вершины x до вершины y.
2) Через xP и Py мы будем обозначать участки пути P от
   x до конца и от начала до y, сооответственно.

#### Цикл

> Цикл — это последовательность вершин $a_1a_2...a_n$ и
> различных рёбер $e_1,...,e_n$ графа G, где $e_i = a_ia_{i+1}$ для
> всех $i \in [1..n]$ (мы считаем, что $a_{n+i} = a_i$).

> Цикл называется простым, если все вершины в нём различны.

> Длина цикла — количество рёбер в нём.

### Лемма 2

1) Для любого цикла Z существует такой простой
   цикл $Z′$, что $V(Z′) \subset V(Z)$ и $E(Z′) \subset E(Z)$.
2) Если в графе есть нечетный цикл, то есть и простой
   нечетный цикл.
3) Из xy-пути можно выделить простой xy-путь.

#### Доказательство

1) Найдем первую повторившуюся вершину b в цикле (если она
   есть). Участок между двумя посещениями b — искомый
   Простой цикл.
2) Найдем первую повторившуюся вершину b (если она
   есть). Изменим порядок обхода нашего большого цикла
   Z в вершине b: разомкнем его на простой цикл Z′ (как в
   пункте 1) и цикл $Z_1$ из оставшихся рёбер цикла Z. Эти
   циклы имеют общую вершину $v$ и $e(Z) = e(Z_1)+e(Z′)$, а
   значит, либо $e(Z′)$ нечетно (тогда цикл Z′ — искомый),
   либо $e(Z_1)$ нечетно, тогда продолжим рассуждения с
   меньшим нечетным циклом $Z_1$
3) Рассмотрим ху-путь $Р = (x, v_1, v_2,..., v_k, y)$. Предположим, что Р не является простым, то есть содержит повторяющуюся вершину. Пусть $b$ — первая вершина, которая повторяется на пути Р, и в встречается в позициях і и ј, где і < j.
   1. Вершина $b$ разбивает путь Р на два подотрезка:
   $P_1 = (x,..., b)$,
   $P_2 = (b,..., y).$
   2. Повторная встреча вершины в означает, что внутри $Р_2$ содержится цикл С $(b, v_{i+1}, ..., v_{j-1}, b)$, поскольку мы возвращаемся в b.
   3. Уберем цикл С из пути Р. Тогда новый путь Р' получится как Р $(x, v_1,..., v_1, v_{j+1},..., y)$.
   4. Путь Р' короче пути Р и сохраняет конечные точки х и у. Если Р' все еще содержит повторяющиеся вершины, повторяем процесс, находя первый цикл и убирая его.
   5. Поскольку при каждом удалении цикла длина пути уменьшается, процесс завершается за конечное число шагов, и в итоге мы получаем простой ху-путь Р'.